(()=>{"use strict";let e=["C","D","H","S"],r=["A","J","Q","K"],t=[],l=[],i=[],s=()=>{for(let l of(t=[],e)){for(let i=2;i<=10;i++)t.push(i+l);for(let s of r)t.push(s+l)}return _.shuffle(t)},a=()=>{for(l=[],i=[];C.hasChildNodes();)C.removeChild(C.firstChild);for(;b.hasChildNodes();)b.removeChild(b.firstChild);q=!1,L=0,N=0,w.innerHTML=L,S.innerHTML=N,y.disabled=!1,h.disabled=!1},n=()=>{if(0===t.length){let e="No more cards in deck";throw alert(e),e}return t.pop()},o=e=>{let t=3===e.length?10:e.split("")[0];return"A"===t?11:-1!==r.indexOf(t)?10:t},d=()=>{let e=n();i.push(e);let r=p(e);b.appendChild(r),M(!1,e)},c=async e=>{if(q){do if(await u(500),d(),e>21)break;while(N<e&&e<=21);setTimeout(()=>{N===e?alert("No one wins :C"):e>21||N>L&&N<=21?alert("Computer Wins"):N>=21?alert("Player Wins"):21===L&&alert("Player Wins")},10)}},u=e=>new Promise(r=>setTimeout(r,e)),p=e=>{let r=document.createElement("img");return r.className="card",r.src=`assets/cards/${e}.png`,r},y=document.querySelector("#btnGet"),$=document.querySelector("#btnNew"),h=document.querySelector("#btnStop"),f=document.querySelector(".player-text"),m=document.querySelector(".computer-text"),w=document.querySelector("#player-points"),S=document.querySelector("#computer-points"),C=document.querySelector("#player-cards"),b=document.querySelector("#computer-cards"),q=!1,L=0,N=0,g="yellow",k="white",v=()=>{y.disabled=!0,h.disabled=!0},H=e=>{f.style.color=e?g:k,m.style.color=e?k:g},E=async()=>{y.disabled=!0,h.disabled=!0,q=!0,H(!1),await c(L)},M=(e,r)=>{e?(L+=+o(r),w.innerHTML=L):(N+=+o(r),S.innerHTML=N)};$.addEventListener("click",()=>{t=s(),a(),H(!0)}),y.addEventListener("click",async()=>{if(!q){let e=n();l.push(e);let r=p(e);C.appendChild(r),M(!0,e),L>21?(setTimeout(()=>{alert("Sorry, You Lose!")},10),await E()):21===L&&(setTimeout(()=>{alert("21, Amazing!")},10),await E())}}),h.addEventListener("click",async()=>{setTimeout(()=>{alert("Is computer's turn!")},10),await E()}),v()})();